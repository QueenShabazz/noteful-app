{"ast":null,"code":"var _jsxFileName = \"/Users/queen/Desktop/note-test/noteful-client/src/src/Folder/FolderNotes.js\";\nimport React from 'react';\nimport { format } from 'date-fns';\nimport { Link } from 'react-router-dom';\nimport ApiContext from '../ApiContext';\nimport config from '../config';\nimport \"./Folder.css\";\nexport default class FolderNotes extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleClickDelete = e => {\n      e.preventDefault();\n      const noteId = this.props.id;\n      console.log('noteid', this.props.id);\n      fetch(`${config.API_ENDPOINT}/notes/${noteId}`, {\n        method: 'DELETE',\n        headers: {\n          'content-type': 'application/json'\n        }\n      }).then(res => {\n        if (!res.ok) return res.json().then(e => Promise.reject(e));\n        return res.json();\n      }).then(() => {\n        this.context.deleteNote(noteId);\n        this.props.onDeleteNote(noteId);\n      }).catch(error => {\n        console.error({\n          error\n        });\n      });\n    };\n  }\n\n  render() {\n    const {\n      name,\n      id,\n      modified\n    } = this.props;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"note-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: `/note/${id}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, name)), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.handleClickDelete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"Remove\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Modified \", '', React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, format(new Date(), 'dd/MM/yyyy HH:mm:ss', modified))));\n  }\n\n}\nFolderNotes.defaultProps = {\n  onDeleteNote: () => {}\n};\nFolderNotes.contextType = ApiContext;","map":{"version":3,"sources":["/Users/queen/Desktop/note-test/noteful-client/src/src/Folder/FolderNotes.js"],"names":["React","format","Link","ApiContext","config","FolderNotes","Component","handleClickDelete","e","preventDefault","noteId","props","id","console","log","fetch","API_ENDPOINT","method","headers","then","res","ok","json","Promise","reject","context","deleteNote","onDeleteNote","catch","error","render","name","modified","Date","defaultProps","contextType"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,UAAvB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAOC,UAAP,MAAuB,eAAvB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAO,cAAP;AAEA,eAAe,MAAMC,WAAN,SAA0BL,KAAK,CAACM,SAAhC,CAA0C;AAAA;AAAA;;AAAA,SAKrDC,iBALqD,GAKjCC,CAAC,IAAI;AACvBA,MAAAA,CAAC,CAACC,cAAF;AACA,YAAMC,MAAM,GAAG,KAAKC,KAAL,CAAWC,EAA1B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsB,KAAKH,KAAL,CAAWC,EAAjC;AACAG,MAAAA,KAAK,CAAE,GAAEX,MAAM,CAACY,YAAa,UAASN,MAAO,EAAxC,EAA0C;AAC7CO,QAAAA,MAAM,EAAE,QADqC;AAE7CC,QAAAA,OAAO,EAAC;AACN,0BAAgB;AADV;AAFqC,OAA1C,CAAL,CAMGC,IANH,CAMQC,GAAG,IAAI;AACX,YAAG,CAACA,GAAG,CAACC,EAAR,EACE,OAAOD,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgBX,CAAC,IAAGe,OAAO,CAACC,MAAR,CAAehB,CAAf,CAApB,CAAP;AACF,eAAOY,GAAG,CAACE,IAAJ,EAAP;AACD,OAVH,EAWGH,IAXH,CAWQ,MAAK;AACT,aAAKM,OAAL,CAAaC,UAAb,CAAwBhB,MAAxB;AACA,aAAKC,KAAL,CAAWgB,YAAX,CAAwBjB,MAAxB;AACD,OAdH,EAeGkB,KAfH,CAeSC,KAAK,IAAI;AACdhB,QAAAA,OAAO,CAACgB,KAAR,CAAc;AAACA,UAAAA;AAAD,SAAd;AACD,OAjBH;AAkBD,KA3BoD;AAAA;;AA4BrDC,EAAAA,MAAM,GAAE;AACN,UAAM;AAACC,MAAAA,IAAD;AAAOnB,MAAAA,EAAP;AAAWoB,MAAAA;AAAX,QAAuB,KAAKrB,KAAlC;AACA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAG,SAAQC,EAAG,EAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGmB,IADH,CADF,CADF,EAME;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,OAAO,EAAE,KAAKxB,iBAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANF,EAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACY,EADZ,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGN,MAAM,CAAC,IAAIgC,IAAJ,EAAD,EAAa,qBAAb,EAAoCD,QAApC,CADT,CAFF,CAbF,CADF;AAsBD;;AApDoD;AAApC3B,W,CACV6B,Y,GAAe;AACpBP,EAAAA,YAAY,EAAE,MAAM,CAAE;AADF,C;AADLtB,W,CAIV8B,W,GAAchC,U","sourcesContent":["import React from 'react'\nimport { format } from 'date-fns'\nimport {Link} from 'react-router-dom'\nimport ApiContext from '../ApiContext'\nimport config from '../config'\nimport \"./Folder.css\";\n\nexport default class FolderNotes extends React.Component {\n    static defaultProps = {\n      onDeleteNote: () => {},\n    }\n    static contextType = ApiContext;\n    handleClickDelete = e => {\n      e.preventDefault()\n      const noteId = this.props.id\n      console.log('noteid', this.props.id)\n      fetch(`${config.API_ENDPOINT}/notes/${noteId}`,{\n        method: 'DELETE',\n        headers:{\n          'content-type': 'application/json'\n        },\n      })\n        .then(res => {\n          if(!res.ok)\n            return res.json().then(e=> Promise.reject(e))\n          return res.json()\n        })\n        .then(()=> {\n          this.context.deleteNote(noteId)\n          this.props.onDeleteNote(noteId)\n        })\n        .catch(error => {\n          console.error({error})\n        })\n    }\n    render(){\n      const {name, id, modified} = this.props\n      return (\n        <div>\n          <h2 className=\"note-title\"> \n            <Link to={`/note/${id}`}>\n              {name} \n            </Link> \n          </h2>\n          <button \n            type='button'\n            onClick={this.handleClickDelete}\n          >\n            Remove\n          </button>\n          \n          <div>\n            Modified {''}\n            <span>\n              {format(new Date(), 'dd/MM/yyyy HH:mm:ss', modified)}\n            </span>\n          </div>\n        </div>\n      )\n    } \n}\n\n\n"]},"metadata":{},"sourceType":"module"}